{% extends "base_form.html" %}
{% load static %}
{% block header_css_scripts %}


{% endblock %}
{% block scripts %}
<script>


    fb.$form.on({
        "recaptcha:success": function(event){

            //fb.$submit.removeAttr("disabled");

            console.log("recaptcha:success triggered");

            fb.$form.unbind("submit");
            //fb.$form.triggerHandler("submit");




            fb.$submit.trigger("click");

            fb.$submit.attr("disabled","true");

            setTimeout(function(){ fb.$submit.removeAttr("disabled")}, 1000);
        },
        "recaptcha:fail": function(event, response){
            console.log("recaptcha:fail triggered");

            //fb.$submit.removeAttr("disabled");

            var errors = response["error-codes"];

            for (var i=0; i< errors.length; i++){

                console.log(errors[i]);
                var message = "reCaptcha Error: " + errors[i];

                fb.displayError(message);
            }

        }
    });







</script>
{% endblock %}
